<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
        <title>Honeyworks Premium Live (web version)</title>
        <link rel="shortcut icon" href="/favicon.png"/>
        <script src="./load.js"></script>
        <!-- <script src="./lyui/env.js"></script>
        <script src="./lyui/alert.js"></script>
        <script src="./lyui/touch.js"></script>
        <script src="./core/gameRunning.js"></script>
        <link rel="stylesheet" type="text/css" href="./style.css"/>
        <link rel="stylesheet" type="text/css" href="./lyui/css/alert.css"/>
        <link rel="stylesheet" type="text/css" href="./lyui/css/touch.css"/>
        <link rel="stylesheet" type="text/css" href="./core/gameRunning.css"/> -->
        <style>
            @font-face {
                font-family: 'HummingProB';
                src: url("./font/FOT-HummingPro-B.otf");
            }

            body {
                margin: 0px;
                touch-action: none;
                cursor: pointer;
            }

            #progress {
                display: flex;
                display: -webkit-flex;
                align-items: center;
                width: 70vmax;
                height: 50px;
                position: absolute;
                left: calc(50% - 35vmax);
            }

            #progress-bar {
                width: calc(100% - 150px);
                height: 10px;
                border: 1px solid;
                border-color: rgb(227, 227, 229);
                border-radius: 5px;
                padding: 2.5px;
                display: none;
            }

            #progress-loaded {
                width: 0%;
                background-color: rgb(168, 133, 211);
                height: 10px;
                border-radius: 2.5px;
            }

            #loading-text {
                min-width: 125px;
                max-width: 125px;
                display: flex;
                display: -webkit-flex;
                justify-content: center;
            }

            #loading-text-TextView {
                height: 15px;
                color: white;
                padding-top: 2.5px;
                margin-right: 10px;
                font-size: 12px;
                font-family: HummingProB;
                line-height: 12px;
            }
            
            #loading-percent {
                min-width: 25px;
                max-width: 25px;
            }

            #loading-percent-TextView {
                min-width: 25px;
                max-width: 25px;
                height: 15px;
                color: white;
                padding-top: 2.5px;
                margin-left: 10px;
                font-size: 12px;
                font-family: HummingProB;
                line-height: 12px;
                position: relative;
                top: -2px;
            }
            
            @media screen and (min-width: 1200px) {
                #progress {
                    height: 100px;
                }

                #progress-bar {
                    width: calc(100% - 240px);
                    height: 15px;
                    border: 2px solid;
                    border-color: rgb(227, 227, 229);
                    border-radius: 10px;
                    padding: 5px;
                }

                #progress-loaded {
                    height: 15px;
                    border-radius: 5px;
                }
                
                #loading-text {
                    min-width: 190px;
                    max-width: 190px;
                    height: 30px;
                    padding-top: 5px;
                    margin-right: 15px;
                }

                #loading-text-TextView {
                    font-size: 18px;
                    line-height: 18px;
                }
            
                #loading-percent {
                    min-width: 50px;
                    max-width: 50px;
                    height: 30px;
                    padding-top: 5px;
                    margin-left: 15px;
                    position: relative;
                    top: 4px;
                }

                #loading-percent-TextView {
                    font-size: 18px;
                    line-height: 18px;
                }
            }
        </style>
    </head>
    <body onselectstart="return false;" unselectable="on" oncontextmenu="return false;">
        <div id="progress">
            <div id="loading-text">
                <TextView id="loading-text-TextView">コンフィグ取得中</TextView>
            </div>
            <div id="progress-bar">
                <div id="progress-loaded"></div>
            </div>
            <div id="loading-percent">
                <TextView id="loading-percent-TextView">0%</TextView>
            </div>
        </div>
        <script>
            var config = new Array; // 网站配置
            var assets_object = new Array; // 资源配置
            var assets_map = new Object; // 资源配置映射表

            // 音乐对象及其映射表
            var Music_object = new Array; // 音乐对象
            var MusicParts_map = new Object; // 音乐片段映射表
            var Musics_map = new Object; // 歌曲简略信息映射表
            var Singers_map = new Object; // 歌手映射表
            var Songs_map = new Object; // 歌曲详细信息映射表

            var musicpart_id = 1010013; // 目标音乐片段id
            var music_id = 0; // 目标音乐id
            var song_id = 0; // 目标歌曲id
            var singer_id = 0; // 歌手id
            var difficult = 4; // 乐曲难度
            var pic_url = ""; // MVTitleImage url
            var logo_url = ""; // logo url
            var video_url = ""; // video url
            var music_url = ""; // music url
        </script>
        <script>
            async function loading() {
                await alertCustomed("エラー", "通信エラーが発生しました。\n電波状况の良いところでプレイしてください\nリトライしますか？", "リトライ");
            }
            async function run() {
                await init();
                clearInterval(e);
                setTimeout(async function(){
                    while (true) {
                        if (window.innerWidth < window.innerHeight)
                            await alertCustomed("ヒント", "画面は水平に置いてください", "リトライ");
                        await sleep(100);
                    }
                }, 0);
                var e = document.getElementById("progress");
                document.body.removeChild(e);
                await loading();
                await objectSolver();
                await gameTitle();
            }
            run();
        </script>
    </body>
</html>